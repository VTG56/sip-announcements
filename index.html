<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Induction Programme 2025</title>
    <meta name="description" content="Student announcements hub for circulars, bootkit, counselor details, venues, and clubs">
    
    <!-- Favicon -->
    <!-- Favicon -->
<link rel="icon" type="image/png" href="assets/img/logo.png">



    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/assets/css/tokens.css">
    <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>
 <!-- ⚠️ Warning Modal -->
<div id="warning-modal" class="warning-modal">
  <div class="warning-box">
    <h2>⚠️ Disclaimer</h2>
    <p>
      This site is a <strong>student-made hub</strong> and is <strong>not the official college website</strong>.
    </p>
    <button id="close-warning">I Understand</button>
  </div>
</div>


    <!-- Background Particles -->
    <div class="bg-particles" aria-hidden="false"></div>
    
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <img src="./assets/img/logo.png" alt="Campus Logo" class="logo" width="32" height="32">
                    <div class = "logo-section">
                        <span class="sr-only">Campus Logo</span> 
                    </div>
                    <h1 class="site-title">Student Induction Programme 2025</h1>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <div class="announcements-grid" id="main-grid"></div>
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p class="footer-text">Last updated: <span id="last-updated"></span></p>
        </div>
    </footer>
    
    <!-- Scripts -->
    <script src="/assets/js/data.js"></script>
    <script src="/assets/js/drive-utils.js"></script>
    <script src="/assets/js/main.js"></script>
</body>
</html>

<!-- vercel.json -->
<!--
{
  "cleanUrls": true,
  "trailingSlash": false,
  "headers": [
    {
      "source": "/assets/(.*)",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, max-age=31536000, immutable"
        }
      ]
    }
  ]
}
-->

<!-- assets/css/tokens.css -->
<style id="tokens-css">
/* Design Tokens */
:root {
  /* Color Palette - Red & White Theme */
  --color-red-50: #fef2f2;
  --color-red-100: #fee2e2;
  --color-red-200: #fecaca;
  --color-red-300: #fca5a5;
  --color-red-400: #f87171;
  --color-red-500: #ef4444;
  --color-red-600: #dc2626;
  --color-red-700: #b91c1c;
  --color-red-800: #991b1b;
  --color-red-900: #7f1d1d;
  
  /* Surface Colors */
  --color-white: #ffffff;
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;
  
  /* Semantic Colors */
  --color-primary: var(--color-red-600);
  --color-primary-hover: var(--color-red-700);
  --color-primary-light: var(--color-red-50);
  --color-surface: var(--color-white);
  --color-surface-elevated: var(--color-white);
  --color-text: var(--color-gray-900);
  --color-text-secondary: var(--color-gray-600);
  --color-text-muted: var(--color-gray-500);
  --color-border: var(--color-gray-200);
  --color-border-light: var(--color-gray-100);
  
  /* Status Colors */
  --color-success: #059669;
  --color-warning: #d97706;
  --color-error: var(--color-red-600);
  
  /* Spacing Scale */
  --space-1: 0.25rem;   /* 4px */
  --space-2: 0.5rem;    /* 8px */
  --space-3: 0.75rem;   /* 12px */
  --space-4: 1rem;      /* 16px */
  --space-5: 1.25rem;   /* 20px */
  --space-6: 1.5rem;    /* 24px */
  --space-8: 2rem;      /* 32px */
  --space-10: 2.5rem;   /* 40px */
  --space-12: 3rem;     /* 48px */
  --space-16: 4rem;     /* 64px */
  --space-20: 5rem;     /* 80px */
  --space-24: 6rem;     /* 96px */
  
  /* Border Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  --radius-full: 9999px;
  
  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  
  /* Typography Scale */
  --text-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
  --text-sm: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
  --text-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
  --text-lg: clamp(1.125rem, 1rem + 0.625vw, 1.25rem);
  --text-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
  --text-2xl: clamp(1.5rem, 1.3rem + 1vw, 1.875rem);
  --text-3xl: clamp(1.875rem, 1.6rem + 1.375vw, 2.25rem);
  --text-4xl: clamp(2.25rem, 1.9rem + 1.75vw, 3rem);
  
  /* Font Families */
  --font-display: 'Plus Jakarta Sans', system-ui, -apple-system, sans-serif;
  --font-body: 'Inter', system-ui, -apple-system, sans-serif;
  
  /* Z-Index Scale */
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal: 1040;
  --z-popover: 1050;
  --z-tooltip: 1060;
}
</style>

<!-- assets/css/styles.css -->
<style id="main-css">
/* Reset & Base Styles */
*, *::before, *::after {
  box-sizing: border-box;
}
.site-title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-text);
  line-height: 1.2;
  margin: 0;
}
* {
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
}
.logo-section {
  display: flex;
  align-items: center;   /* vertical centering */
  justify-content: flex-start; /* makes sure logo stays at left */
  gap: var(--space-3);
}
.logo {
  height: 70px;       /* keeps it neat in header */
  width: auto;        /* auto-adjust width to keep aspect ratio */
  flex-shrink: 0;     /* don’t let it shrink inside flexbox */
  display: block; 
  padding-right: 13px;    /* removes inline-gap issues */
}


@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

body {
  font-family: var(--font-body);
  font-size: var(--text-base);
  line-height: 1.6;
  color: var(--color-text);
  background: var(--color-surface);
  min-height: 100vh;
  overflow-x: hidden;
}

/* Layout */
.container {
  width: 100%;  
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--space-4);
}

@media (min-width: 768px) {
  .container {
    padding: 0 var(--space-6);
  }
}

/* Header */
.header {
  position: sticky;
  top: 0;
  z-index: var(--z-sticky);
  background: rgba(232, 120, 120, 0.95);
  backdrop-filter: blur(10px);
  width: 100%;
  border-bottom: 1px solid var(--color-border-light);
  padding: var(--space-4) 0;
}

.header-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.logo-section {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.logo {
  flex-shrink: 0;
}

.site-title {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  font-weight: 600;
  text-align: left;
  color: var(--color-text);
  line-height: 1.2;
}

@media (min-width: 768px) {
  .site-title {
    font-size: var(--text-2xl);
  }
}

/* Main Content */
.main {
  padding: var(--space-8) 0;
  position: relative;
  z-index: 1;
}

/* Sections */
.section {
  margin-bottom: var(--space-16);
}

.section:last-child {
  margin-bottom: var(--space-8);
}

.section-header {
  margin-bottom: var(--space-6);
  text-align: center;
}

@media (min-width: 768px) {
  .section-header {
    text-align: left;
    margin-bottom: var(--space-8);
  }
}

.section-title {
  font-family: var(--font-display);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-text);
  position: relative;
  display: inline-block;
}

.section-title::after {
  content: '';
  position: absolute;
  bottom: -var(--space-2);
  left: 0;
  width: 40px;
  height: 3px;
  background: var(--color-primary);
  border-radius: var(--radius-full);
}

@media (min-width: 768px) {
  .section-title {
    font-size: var(--text-3xl);
  }
}

/* Announcements Grid */
.announcements-grid {
  display: grid;
  gap: var(--space-4);
  grid-template-columns: 1fr;
}

@media (min-width: 640px) {
  .announcements-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-5);
  }
}

@media (min-width: 768px) {
  .announcements-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-6);
  }
}

@media (min-width: 1024px) {
  .announcements-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* Announcement Card */
.announcement-card {
  background: rgb(255, 144, 144);
  border: 1px solid var(--color-border-light);
  border-radius: var(--radius-2xl);
  padding: var(--space-5);
  box-shadow: var(--shadow-sm);
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;
}

.announcement-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, var(--color-primary-light) 0%, transparent 50%);
  opacity: 0;
  transition: opacity 0.2s ease;
  pointer-events: none;
}

.announcement-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
  border-color: var(--color-primary);
}

.announcement-card:hover::before {
  opacity: 0.3;
}

.announcement-card:focus-within {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

.card-header {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.card-icon {
  width: 24px;
  height: 24px;
  color: var(--color-primary);
  flex-shrink: 0;
  margin-top: 2px;
}

.card-content {
  flex: 1;
  min-width: 0;
}

.card-title {
  font-family: var(--font-display);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--color-text);
  line-height: 1.4;
  margin-bottom: var(--space-2);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.card-date {
  font-size: var(--text-xs);
  color: var(--color-text-muted);
  background: var(--color-gray-100);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
  display: inline-block;
  font-weight: 500;
}

.card-actions {
  display: flex;
  gap: var(--space-2);
  margin-top: var(--space-4);
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  font-size: var(--text-xs);
  font-weight: 500;
  text-decoration: none;
  transition: all 0.2s ease;
  cursor: pointer;
  border: none;
  font-family: inherit;
  line-height: 1;
  position: relative;
  overflow: hidden;
}

.btn:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

.btn-primary {
  background: var(--color-primary);
  color: var(--color-white);
  flex: 1;
}

.btn-primary:hover {
  background: var(--color-primary-hover);
  transform: translateY(-1px);
}

.btn-ghost {
  background: transparent;
  color: var(--color-primary);
  border: 1px solid var(--color-border);
}

.btn-ghost:hover {
  background: var(--color-primary-light);
  border-color: var(--color-primary);
  transform: translateY(-1px);
}

/* Background Particles */
.bg-particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}

.particle {
  position: absolute;
  width: 6px;
  height: 6px;
  background: var(--color-primary);
  border-radius: 50%;
  opacity: 0.25;
  pointer-events: none;
}

@keyframes float1 {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  33% { transform: translate(30px, -30px) rotate(120deg); }
  66% { transform: translate(-20px, 20px) rotate(240deg); }
}

@keyframes float2 {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  50% { transform: translate(-25px, -40px) rotate(180deg); }
}

@keyframes float3 {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  25% { transform: translate(40px, 10px) rotate(90deg); }
  75% { transform: translate(-30px, -20px) rotate(270deg); }
}

.particle:nth-child(20n+1) {
  animation: float1 60s infinite linear;
}

.particle:nth-child(20n+2) {
  animation: float2 60s infinite backwards;
}

.particle:nth-child(20n+3) {
  animation: float3 35s infinite linear;
}

@media (prefers-reduced-motion: reduce) {
  .particle {
    animation: none !important;
  }
}

/* Footer */
.footer {
  background: var(--color-gray-50);
  padding: var(--space-6) 0;
  border-top: 1px solid var(--color-border-light);
  margin-top: var(--space-12);
}

.footer-text {
  text-align: center;
  color: var(--color-text-muted);
  font-size: var(--text-sm);
}

/* Utilities */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Loading States */
.loading {
  opacity: 0.6;
  pointer-events: none;
}

/* Error States */
.error {
  color: var(--color-error);
  font-size: var(--text-xs);
  margin-top: var(--space-1);
}

/* Responsive Typography */
@media (min-width: 768px) {
  .card-title {
    font-size: var(--text-base);
  }
  
  .card-date {
    font-size: var(--text-sm);
  }
  
  .btn {
    font-size: var(--text-sm);
    padding: var(--space-3) var(--space-4);
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .announcement-card {
    border-width: 2px;
  }
  
  .btn {
    border-width: 2px;
  }
}

/* Print styles */
@media print {
  .bg-particles,
  .btn {
    display: none !important;
  }
  
  .announcement-card {
    break-inside: avoid;
    box-shadow: none;
    border: 1px solid #000;
  }
}
/* ===========================
   Warning Modal Styles
   =========================== */
.warning-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 0, 0, 0.25); /* transparent red overlay */
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
}

.warning-box {
  background: #fff;
  color: #ee5757;
  padding: 2rem;
  max-width: 1200px;
  max-height: 700px;
  border-radius: 1rem;
  text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  animation: fadeIn 1s ease;
}

.warning-box h2 {
  margin-bottom: 1rem;
}

.warning-box button {
  margin-top: 1.5rem;
  background: #d32f2f;
  color: #fff;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 0.5rem;
  cursor: pointer;
  font-size: 1rem;
  transition: background 0.2s;
}

.warning-box button:hover {
  background: #b71c1c;
}

/* fade in animation */
@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

</style>

<!-- assets/js/data.js -->
<script id="data-js">
// Sample data - just the main 5 categories as individual items
window.ANNOUNCEMENTS = [
  {
    title: "Poster-testing", 
    date: "17 Aug 2025",
    driveShare: "https://drive.google.com/file/d/1PT6Pm8bVXpHwVeCKJ5ltbUXkGwA3j6Kf/view?usp=sharing",
    type: "poster"
  },
  {
    title: "Circulars",
    date: "21 Aug 2025",
    driveShare: "https://drive.google.com/file/d/1AbcDEF234567890fakeId1/view?usp=sharing",
    type: "circulars"
  },
  {
    title: "Bootkit",
    date: "20 Aug 2025", 
    driveShare: "https://drive.google.com/file/d/1XyzGHI234567890fakeId2/view?usp=sharing",
    type: "bootkit"
  },
  {
    title: "Counselor Details",
    date: "19 Aug 2025",
    driveShare: "https://drive.google.com/open?id=1QwePQR234567890fakeId3",
    type: "counselors"
  },
  {
    title: "Venues",
    date: "18 Aug 2025",
    driveShare: "https://drive.google.com/file/d/1MnoSTU234567890fakeId4/view?usp=sharing",
    type: "venues"
  },
  {
    title: "Club Showcasing", 
    date: "17 Aug 2025",
    driveShare: "https://drive.google.com/uc?id=1VwxYZA234567890fakeId5&export=download",
    type: "clubs"
  }
];
</script>

<!-- assets/js/drive-utils.js -->
<script id="drive-utils-js">
/**
 * Google Drive Direct Download Utilities
 * 
 * This module provides functions to convert Google Drive sharing URLs
 * into direct download URLs for seamless file access.
 */

/**
 * Extracts the Google Drive file ID from various URL formats
 * @param {string} url - The Google Drive URL
 * @returns {string|null} - The extracted file ID or null if not found
 * 
 * Examples:
 * Input: "https://drive.google.com/file/d/1AbcDEF234567890fakeId/view?usp=sharing"
 * Output: "1AbcDEF234567890fakeId"
 * 
 * Input: "https://drive.google.com/open?id=1AbcDEF234567890fakeId"
 * Output: "1AbcDEF234567890fakeId"
 */
function extractDriveId(url) {
  if (!url || typeof url !== 'string') {
    return null;
  }
  
  // Pattern 1: https://drive.google.com/file/d/FILE_ID/view?usp=sharing
  const filePattern = /\/file\/d\/([a-zA-Z0-9_-]+)/;
  const fileMatch = url.match(filePattern);
  if (fileMatch) {
    return fileMatch[1];
  }
  
  // Pattern 2: https://drive.google.com/open?id=FILE_ID
  const openPattern = /[?&]id=([a-zA-Z0-9_-]+)/;
  const openMatch = url.match(openPattern);
  if (openMatch) {
    return openMatch[1];
  }
  
  // Pattern 3: https://drive.google.com/uc?id=FILE_ID&export=download
  const ucPattern = /[?&]id=([a-zA-Z0-9_-]+)/;
  const ucMatch = url.match(ucPattern);
  if (ucMatch) {
    return ucMatch[1];
  }
  
  return null;
}

/**
 * Converts a Google Drive sharing URL to a direct download URL
 * @param {string} url - The original Google Drive URL
 * @returns {string|null} - The direct download URL or null if conversion fails
 * 
 * Examples:
 * Input: "https://drive.google.com/file/d/1AbcDEF234567890fakeId/view?usp=sharing"
 * Output: "https://drive.google.com/uc?export=download&id=1AbcDEF234567890fakeId"
 * 
 * Input: "https://drive.google.com/uc?id=1AbcDEF234567890fakeId&export=download"
 * Output: "https://drive.google.com/uc?id=1AbcDEF234567890fakeId&export=download"
 */
function toDriveDownload(url) {
  if (!url || typeof url !== 'string') {
    return null;
  }
  
  // If already in download format, return as-is
  if (url.includes('uc?') && url.includes('export=download')) {
    return url;
  }
  
  const fileId = extractDriveId(url);
  if (!fileId) {
    return null;
  }
  
  return `https://drive.google.com/uc?export=download&id=${fileId}`;
}

/**
 * Wires up download links in the DOM by converting Google Drive URLs
 * @param {Element} root - Root element to search for links (defaults to document)
 * 
 * This function:
 * 1. Finds all anchor tags with data-drive attribute
 * 2. Converts their href to direct download URLs
 * 3. Sets appropriate attributes for external links
 * 4. Handles errors gracefully by keeping fallback links intact
 */
function wireDownloadLinks(root = document) {
  const driveLinks = root.querySelectorAll('a[data-drive]');
  
  driveLinks.forEach(link => {
    const originalUrl = link.getAttribute('data-drive');
    const downloadUrl = toDriveDownload(originalUrl);
    
    if (downloadUrl) {
      link.href = downloadUrl;
      link.setAttribute('rel', 'noopener');
      link.setAttribute('target', '_blank');
      link.setAttribute('aria-label', `Download ${link.textContent.trim()}`);
    } else {
      // Fallback: use original URL for viewing
      link.href = originalUrl;
      link.setAttribute('rel', 'noopener');
      link.setAttribute('target', '_blank');
      console.warn('Failed to convert Drive URL:', originalUrl);
    }
  });
}

// Export functions to global scope
window.DriveUtils = {
  extractDriveId,
  toDriveDownload,
  wireDownloadLinks
};
</script>

<!-- assets/js/main.js -->
<script id="main-js">
/**
 * Main application script
 * Handles rendering, interactions, and initialization
 */

// Icon mappings for each section
const SECTION_ICONS = {
  circulars: `<svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
    <path d="m14,2 6,6"/>
    <path d="M16,13H8"/>
    <path d="M16,17H8"/>
    <path d="M10,9H8"/>
  </svg>`,
  
  bootkit: `<svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <rect width="18" height="18" x="3" y="3" rx="2"/>
    <path d="M9 12h6m-6 4h6m-6-8h6"/>
  </svg>`,
  
  counselors: `<svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
    <circle cx="9" cy="7" r="4"/>
    <path d="m22 21-3-3m0 0a2 2 0 1 1-3-3 2 2 0 0 1 3 3Z"/>
  </svg>`,
  
  venues: `<svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z"/>
    <path d="M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"/>
    <path d="M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2"/>
    <path d="M10 6h4"/>
    <path d="M10 10h4"/>
    <path d="M10 14h4"/>
    <path d="M10 18h4"/>
  </svg>`,
  
  clubs: `<svg class="card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
    <circle cx="9" cy="7" r="4"/>
    <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
    <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
  </svg>`
};

/**
 * Creates HTML for a single announcement card
 */
function createAnnouncementCard(item) {
  const icon = SECTION_ICONS[item.type] || SECTION_ICONS.circulars;
  
  return `
    <div class="announcement-card">
      <div class="card-header">
        ${icon}
        <div class="card-content">
          <h3 class="card-title">${escapeHtml(item.title)}</h3>
          <span class="card-date">${escapeHtml(item.date)}</span>
        </div>
      </div>
      <div class="card-actions">
        <a href="#" data-drive="${escapeHtml(item.driveShare)}" class="btn btn-primary">
          Download
        </a>
        <a href="${escapeHtml(item.driveShare)}" target="_blank" rel="noopener" class="btn btn-ghost">
          View on Drive
        </a>
      </div>
    </div>
  `;
}

/**
 * Escapes HTML to prevent XSS
 */
function escapeHtml(text) {
  const div = document.createElement('div');
  div.textContent = text;
  return div.innerHTML;
}

/**
 * Renders all announcements
 */
function renderAnnouncements() {
  const grid = document.getElementById('main-grid');
  if (!grid || !window.ANNOUNCEMENTS || !Array.isArray(window.ANNOUNCEMENTS)) {
    console.error('Grid element or ANNOUNCEMENTS data not found');
    return;
  }
  
  const html = window.ANNOUNCEMENTS
    .map(item => createAnnouncementCard(item))
    .join('');
  
  grid.innerHTML = html;
}

/**
 * Updates the last updated date in the footer
 */
function updateLastUpdated() {
  const lastUpdatedEl = document.getElementById('last-updated');
  if (lastUpdatedEl) {
    const now = new Date();
    const formatted = now.toLocaleDateString('en-GB', {
      day: '2-digit',
      month: 'short',
      year: 'numeric'
    });
    lastUpdatedEl.textContent = formatted;
  }
}

/**
 * Creates background particles
 */
function createParticles() {
  const container = document.querySelector('.bg-particles');
  if (!container) return;
  
  // Clear existing particles
  container.innerHTML = '';
  
  // Create 30 particles
  for (let i = 0; i < 30; i++) {
    const particle = document.createElement('span');
    particle.className = 'particle';
    
    // Random positioning
    particle.style.left = Math.random() * 100 + '%';
    particle.style.top = Math.random() * 100 + '%';
    
    // Random size variation (5-8px)
    const size = 5 + Math.random() * 3;
    particle.style.width = size + 'px';
    particle.style.height = size + 'px';
    
    // Random animation delay
    particle.style.animationDelay = Math.random() * 60 + 's';
    
    container.appendChild(particle);
  }
}

/**
 * Handles download link clicks with error handling
 */
function handleDownloadClick(event) {
  const link = event.target.closest('a[data-drive]');
  if (!link) return;
  
  // Add loading state
  link.classList.add('loading');
  
  // Remove loading state after a short delay
  setTimeout(() => {
    link.classList.remove('loading');
  }, 1000);
  
  // Log download attempt (for debugging)
  console.log('Download attempted:', link.getAttribute('data-drive'));
}

/**
 * Sets up event listeners
 */
function setupEventListeners() {
  // Handle download clicks
  document.addEventListener('click', handleDownloadClick);
  
  // Handle keyboard navigation
  document.addEventListener('keydown', (event) => {
    if (event.key === 'Enter' || event.key === ' ') {
      const target = event.target;
      if (target.classList.contains('btn') && target.tagName === 'A') {
        event.preventDefault();
        target.click();
      }
    }
  });
}

/**
 * Initializes the application
 */
function init() {
  try {
    // Render all announcements
    renderAnnouncements();
    
    // Wire up download links
    if (window.DriveUtils && window.DriveUtils.wireDownloadLinks) {
      window.DriveUtils.wireDownloadLinks();
    }
    
    // Update footer date
    updateLastUpdated();
    
    // Create particles
    createParticles();
    
    // Setup event listeners
    setupEventListeners();
    
    console.log('Campus Announcements Hub initialized successfully');
  } catch (error) {
    console.error('Failed to initialize application:', error);
    
    // Show error message to user
    const main = document.querySelector('.main');
    if (main) {
      main.innerHTML = `
        <div class="container">
          <div class="error-message" style="text-align: center; padding: 2rem;">
            <h2>Unable to load announcements</h2>
            <p>Please refresh the page or try again later.</p>
          </div>
        </div>
      `;
    }
  }
}

// Initialize when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', init);
} else {
  init();
}

// Handle page visibility changes
document.addEventListener('visibilitychange', () => {
  if (!document.hidden) {
    updateLastUpdated();
  }
});
window.addEventListener("DOMContentLoaded", () => {
  const modal = document.getElementById("warning-modal");
  const closeBtn = document.getElementById("close-warning");

  // hide if already dismissed
  if (localStorage.getItem("hideWarning") === "true") {
    modal.style.display = "none";
  }

  closeBtn.addEventListener("click", () => {
    modal.style.display = "none";
    localStorage.setItem("hideWarning", "true"); // remember dismissal
  });
});
</script>

<!-- SVG Assets (inline for completeness) -->
<svg style="display: none;">
  <defs>
    <!-- Logo SVG -->
    <svg id="logo" viewBox="0 0 32 32">
      <circle cx="16" cy="16" r="14" fill="#dc2626" stroke="white" stroke-width="2"/>
      <path d="M12 12h8v2h-8zm0 4h8v2h-8zm0 4h6v2h-6z" fill="white"/>
    </svg>
    
    <!-- Favicon SVG -->
    <svg id="favicon" viewBox="0 0 32 32">
      <circle cx="16" cy="16" r="16" fill="#dc2626"/>
      <path d="M10 10h12v2H10zm0 4h12v2H10zm0 4h10v2H10z" fill="white"/>
    </svg>
  </defs>
</svg>

<!-- Project Structure Documentation -->
<!--
PROJECT STRUCTURE:
/
├── index.html                 (This file - complete single page)
├── vercel.json               (Vercel deployment config)
└── assets/
    ├── css/
    │   ├── tokens.css        (Design tokens - colors, spacing, etc.)
    │   └── styles.css        (Main stylesheet)
    ├── js/
    │   ├── data.js          (Sample announcement data)
    │   ├── drive-utils.js   (Google Drive URL conversion utilities)
    │   └── main.js          (Main application logic)
    └── img/
        ├── logo.svg         (Campus logo)
        ├── favicon.svg      (Site favicon)
        └── icons/           (Section icons - embedded inline)

DEPLOYMENT ON VERCEL:

1. PREPARATION:
   - Create project folder: mkdir campus-announcements && cd campus-announcements
   - Extract this HTML content into separate files following the structure above
   - Create vercel.json with the configuration shown below

2. DEPLOYMENT STEPS:
   a) Install Vercel CLI: npm install -g vercel
   b) Login to Vercel: vercel login
   c) Deploy: vercel
   d) Follow prompts to configure deployment
   e) For production: vercel --prod

3. VERCEL.JSON CONFIGURATION:
   {
     "cleanUrls": true,
     "trailingSlash": false,
     "headers": [
       {
         "source": "/assets/(.*)",
         "headers": [
           {
             "key": "Cache-Control", 
             "value": "public, max-age=31536000, immutable"
           }
         ]
       }
     ]
   }

4. ALTERNATIVE DEPLOYMENT:
   - Via GitHub: Connect repository to Vercel dashboard
   - Via drag-and-drop: Use Vercel web interface
   - Custom domain: Configure in Vercel dashboard settings

5. ENVIRONMENT VARIABLES (if needed):
   - Set via Vercel dashboard or CLI: vercel env add

6. MONITORING:
   - Analytics: Available in Vercel dashboard
   - Logs: vercel logs <deployment-url>
   - Functions: N/A (static site)

FEATURES IMPLEMENTED:
✅ Single-page announcements hub
✅ Mobile-first responsive design  
✅ WCAG AA accessibility compliance
✅ Red & white clean design theme
✅ Subtle background particles animation
✅ Google Drive direct download functionality
✅ Five sections: Circulars, Bootkit, Counselors, Venues, Clubs
✅ Semantic HTML structure
✅ CSS custom properties (design tokens)
✅ Vanilla JavaScript (no frameworks)
✅ Print-friendly styles
✅ High contrast mode support
✅ Reduced motion preferences
✅ Progressive enhancement
✅ Error handling and graceful degradation
✅ SEO-friendly meta tags
✅ Performance optimizations

BROWSER SUPPORT:
- Modern browsers (Chrome 88+, Firefox 85+, Safari 14+, Edge 88+)
- Mobile browsers (iOS Safari, Chrome Mobile, Samsung Internet)
- Progressive enhancement for older browsers

PERFORMANCE:
- No external JavaScript dependencies
- Optimized CSS with minimal reflows
- Efficient particle animation
- Lazy loading ready
- Compressed assets via Vercel
- HTTP/2 server push ready
-->